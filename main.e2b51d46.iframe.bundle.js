(self.webpackChunkcontours_to_classification_client=self.webpackChunkcontours_to_classification_client||[]).push([[179],{"./src/lib/components/activity/common/stories/NeuralNetwork.stories.svelte":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>NeuralNetwork_stories_svelte});var internal=__webpack_require__("./node_modules/svelte/internal/index.mjs"),cjs=__webpack_require__("./node_modules/@storybook/addon-svelte-csf/dist/cjs/index.js"),EParticipantRole=(__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("../shared/enums/EParticipantRole.ts"));__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),__webpack_require__("./node_modules/core-js/modules/es.array.every.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var C2CNode=function(){function C2CNode(participantInfo,layerInfo,inputSize,outputSize,connectedInputs){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,C2CNode),this.outputSize=void 0,this.inputSize=void 0,this.input=void 0,this.output=void 0,this.connectedInputInfo=void 0,this.layer=void 0,this.indexWithinLayer=void 0,this.name=void 0,this.room=void 0,this.room=participantInfo.room,this.name=participantInfo.name,this.layer=layerInfo.layer,this.indexWithinLayer=layerInfo.indexWithinLayer,this.inputSize=inputSize,this.outputSize=outputSize,this.input=new Array(inputSize),this.output=new Array(outputSize),this.connectedInputInfo=connectedInputs}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(C2CNode,[{key:"trySetInput",value:function trySetInput(packet){if(!this.connectedInputInfo)return!1;var _step,_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(this.connectedInputInfo.entries());try{for(_iterator.s();!(_step=_iterator.n()).done;){var _ref2=_slicedToArray(_step.value,2),_index=_ref2[0],info=_ref2[1];if(C2CNode.nodesEqual(info,packet.info))return this.input[_index]=packet.data[info.indexWithinDataPacket],!0}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!1}},{key:"getOuput",value:function getOuput(){if(this.output.includes(void 0))throw new Error("Output contains undefined!");return{info:{layer:this.layer,indexWithinLayer:this.layer},data:this.output}}},{key:"setOutput",value:function setOutput(index,entry){this.output[index]=entry}},{key:"clear",value:function clear(){var _this$input,_this$output;null===(_this$input=this.input)||void 0===_this$input||_this$input.fill(void 0),null===(_this$output=this.output)||void 0===_this$output||_this$output.fill(void 0)}},{key:"ready",value:function ready(){return this.input.every((function(entry){return void 0!==entry}))}}],[{key:"nodesEqual",value:function nodesEqual(a,b){return a.layer===b.layer&&a.indexWithinLayer===b.indexWithinLayer}}]),C2CNode}();const graph_C2CNode=C2CNode;var _EParticipantRole$Inp,_EParticipantRole$Hid,_EParticipantRole$Hid2,_EParticipantRole$Out,_EParticipantRole$Fac,_EParticipantRole$Inp2,_EParticipantRole$Hid3,_EParticipantRole$Hid4,_EParticipantRole$Inp3,_EParticipantRole$Hid5,_EParticipantRole$Hid6,_EParticipantRole$Inp4,_EParticipantRole$Hid7,_EParticipantRole$Hid8,_EParticipantRole$Inp5,_EParticipantRole$Hid9,_EParticipantRole$Hid10,_EParticipantRole$Inp6,_EParticipantRole$Hid11,_EParticipantRole$Hid12,_EParticipantRole$Inp7,_EParticipantRole$Hid13,_EParticipantRole$Hid14,_EParticipantRole$Inp8,_EParticipantRole$Hid15,_EParticipantRole$Hid16;__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}function graphConfigs_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function graphConfigs_createClass(Constructor,protoProps,staticProps){return protoProps&&graphConfigs_defineProperties(Constructor.prototype,protoProps),staticProps&&graphConfigs_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function graphConfigs_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}_EParticipantRole$Inp=EParticipantRole.Z.InputLayer,_EParticipantRole$Hid=EParticipantRole.Z.HiddenLayer1,_EParticipantRole$Hid2=EParticipantRole.Z.HiddenLayer2,_EParticipantRole$Out=EParticipantRole.Z.OutputLayer,_EParticipantRole$Fac=EParticipantRole.Z.Facilitator;var BaseConfig=graphConfigs_createClass((function BaseConfig(){graphConfigs_classCallCheck(this,BaseConfig),this.capacity=void 0,this.depth=void 0,this[_EParticipantRole$Inp]=void 0,this[_EParticipantRole$Hid]=void 0,this[_EParticipantRole$Hid2]=void 0,this[_EParticipantRole$Out]={nodeCount:1,outputsPerNode:1,contourOuputWidth:1},this[_EParticipantRole$Fac]=void 0}));_EParticipantRole$Inp2=EParticipantRole.Z.InputLayer,_EParticipantRole$Hid3=EParticipantRole.Z.HiddenLayer1,_EParticipantRole$Hid4=EParticipantRole.Z.HiddenLayer2;var Capacity6=function(_BaseConfig){_inherits(Capacity6,_BaseConfig);var _super=_createSuper(Capacity6);function Capacity6(){var _this;graphConfigs_classCallCheck(this,Capacity6);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).capacity=6,_this.depth=3,_this[_EParticipantRole$Inp2]={nodeCount:3,outputsPerNode:2,contourOuputWidth:2},_this[_EParticipantRole$Hid3]={nodeCount:2,outputsPerNode:1,contourOuputWidth:2},_this[_EParticipantRole$Hid4]=void 0,_this}return graphConfigs_createClass(Capacity6)}(BaseConfig);_EParticipantRole$Inp3=EParticipantRole.Z.InputLayer,_EParticipantRole$Hid5=EParticipantRole.Z.HiddenLayer1,_EParticipantRole$Hid6=EParticipantRole.Z.HiddenLayer2;var Capacity7=function(_BaseConfig2){_inherits(Capacity7,_BaseConfig2);var _super2=_createSuper(Capacity7);function Capacity7(){var _this2;graphConfigs_classCallCheck(this,Capacity7);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return(_this2=_super2.call.apply(_super2,[this].concat(args))).capacity=7,_this2.depth=3,_this2[_EParticipantRole$Inp3]={nodeCount:4,outputsPerNode:2,contourOuputWidth:2},_this2[_EParticipantRole$Hid5]={nodeCount:2,outputsPerNode:1,contourOuputWidth:2},_this2[_EParticipantRole$Hid6]=void 0,_this2}return graphConfigs_createClass(Capacity7)}(BaseConfig);_EParticipantRole$Inp4=EParticipantRole.Z.InputLayer,_EParticipantRole$Hid7=EParticipantRole.Z.HiddenLayer1,_EParticipantRole$Hid8=EParticipantRole.Z.HiddenLayer2;var Capacity8=function(_BaseConfig3){_inherits(Capacity8,_BaseConfig3);var _super3=_createSuper(Capacity8);function Capacity8(){var _this3;graphConfigs_classCallCheck(this,Capacity8);for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];return(_this3=_super3.call.apply(_super3,[this].concat(args))).capacity=8,_this3.depth=4,_this3[_EParticipantRole$Inp4]={nodeCount:4,outputsPerNode:2,contourOuputWidth:2},_this3[_EParticipantRole$Hid7]={nodeCount:2,outputsPerNode:1,contourOuputWidth:3},_this3[_EParticipantRole$Hid8]={nodeCount:1,outputsPerNode:1,contourOuputWidth:4},_this3}return graphConfigs_createClass(Capacity8)}(BaseConfig);_EParticipantRole$Inp5=EParticipantRole.Z.InputLayer,_EParticipantRole$Hid9=EParticipantRole.Z.HiddenLayer1,_EParticipantRole$Hid10=EParticipantRole.Z.HiddenLayer2;var Capacity9=function(_BaseConfig4){_inherits(Capacity9,_BaseConfig4);var _super4=_createSuper(Capacity9);function Capacity9(){var _this4;graphConfigs_classCallCheck(this,Capacity9);for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];return(_this4=_super4.call.apply(_super4,[this].concat(args))).capacity=9,_this4.depth=4,_this4[_EParticipantRole$Inp5]={nodeCount:4,outputsPerNode:3,contourOuputWidth:3},_this4[_EParticipantRole$Hid9]={nodeCount:3,outputsPerNode:1,contourOuputWidth:2},_this4[_EParticipantRole$Hid10]={nodeCount:1,outputsPerNode:1,contourOuputWidth:4},_this4}return graphConfigs_createClass(Capacity9)}(BaseConfig);_EParticipantRole$Inp6=EParticipantRole.Z.InputLayer,_EParticipantRole$Hid11=EParticipantRole.Z.HiddenLayer1,_EParticipantRole$Hid12=EParticipantRole.Z.HiddenLayer2;var Capacity10=function(_BaseConfig5){_inherits(Capacity10,_BaseConfig5);var _super5=_createSuper(Capacity10);function Capacity10(){var _this5;graphConfigs_classCallCheck(this,Capacity10);for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];return(_this5=_super5.call.apply(_super5,[this].concat(args))).capacity=10,_this5.depth=4,_this5[_EParticipantRole$Inp6]={nodeCount:4,outputsPerNode:4,contourOuputWidth:4},_this5[_EParticipantRole$Hid11]={nodeCount:4,outputsPerNode:1,contourOuputWidth:2},_this5[_EParticipantRole$Hid12]={nodeCount:1,outputsPerNode:1,contourOuputWidth:4},_this5}return graphConfigs_createClass(Capacity10)}(BaseConfig);_EParticipantRole$Inp7=EParticipantRole.Z.InputLayer,_EParticipantRole$Hid13=EParticipantRole.Z.HiddenLayer1,_EParticipantRole$Hid14=EParticipantRole.Z.HiddenLayer2;var Capacity11=function(_BaseConfig6){_inherits(Capacity11,_BaseConfig6);var _super6=_createSuper(Capacity11);function Capacity11(){var _this6;graphConfigs_classCallCheck(this,Capacity11);for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++)args[_key6]=arguments[_key6];return(_this6=_super6.call.apply(_super6,[this].concat(args))).capacity=11,_this6.depth=4,_this6[_EParticipantRole$Inp7]={nodeCount:5,outputsPerNode:4,contourOuputWidth:4},_this6[_EParticipantRole$Hid13]={nodeCount:4,outputsPerNode:1,contourOuputWidth:2},_this6[_EParticipantRole$Hid14]={nodeCount:1,outputsPerNode:1,contourOuputWidth:4},_this6}return graphConfigs_createClass(Capacity11)}(BaseConfig);_EParticipantRole$Inp8=EParticipantRole.Z.InputLayer,_EParticipantRole$Hid15=EParticipantRole.Z.HiddenLayer1,_EParticipantRole$Hid16=EParticipantRole.Z.HiddenLayer2;var Capacity12=function(_BaseConfig7){_inherits(Capacity12,_BaseConfig7);var _super7=_createSuper(Capacity12);function Capacity12(){var _this7;graphConfigs_classCallCheck(this,Capacity12);for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++)args[_key7]=arguments[_key7];return(_this7=_super7.call.apply(_super7,[this].concat(args))).capacity=12,_this7.depth=4,_this7[_EParticipantRole$Inp8]={nodeCount:6,outputsPerNode:4,contourOuputWidth:4},_this7[_EParticipantRole$Hid15]={nodeCount:4,outputsPerNode:1,contourOuputWidth:2},_this7[_EParticipantRole$Hid16]={nodeCount:1,outputsPerNode:1,contourOuputWidth:4},_this7}return graphConfigs_createClass(Capacity12)}(BaseConfig);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return GraphFactory_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||GraphFactory_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GraphFactory_slicedToArray(arr,i){return function GraphFactory_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function GraphFactory_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||GraphFactory_unsupportedIterableToArray(arr,i)||function GraphFactory_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GraphFactory_createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=GraphFactory_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function GraphFactory_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return GraphFactory_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GraphFactory_arrayLikeToArray(o,minLen):void 0}}function GraphFactory_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function GraphFactory_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var GraphFactory=function(){function GraphFactory(){!function GraphFactory_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,GraphFactory),this.layers=void 0,this.configs=void 0,this.layers=[EParticipantRole.Z.InputLayer,EParticipantRole.Z.HiddenLayer1,EParticipantRole.Z.HiddenLayer2,EParticipantRole.Z.OutputLayer],this.configs={6:new Capacity6,7:new Capacity7,8:new Capacity8,9:new Capacity9,10:new Capacity10,11:new Capacity11,12:new Capacity12}}return function GraphFactory_createClass(Constructor,protoProps,staticProps){return protoProps&&GraphFactory_defineProperties(Constructor.prototype,protoProps),staticProps&&GraphFactory_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(GraphFactory,[{key:"getConfig",value:function getConfig(graphCapacity){if(!(graphCapacity in this.configs))throw new Error("Unsupported capacity: "+graphCapacity);return this.configs[graphCapacity]}},{key:"getLayerConfigMap",value:function getLayerConfigMap(config){var map=new Map;return this.layers.filter((function(value){return void 0!==config[value]})).forEach((function(value){return map.set(value,config[value])})),map}},{key:"getEmptyGraphMap",value:function getEmptyGraphMap(config){var map=new Map;return this.layers.filter((function(value){return void 0!==config[value]})).forEach((function(value){return map.set(value,new Map)})),map}},{key:"getNumberOfActiveNodes",value:function getNumberOfActiveNodes(map){var _step,count=0,_iterator=GraphFactory_createForOfIteratorHelper(map);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _entry=GraphFactory_slicedToArray(_step.value,2);_entry[0];count+=_entry[1].size}}catch(err){_iterator.e(err)}finally{_iterator.f()}return count}},{key:"tryAddToFirstEmptyNode",value:function tryAddToFirstEmptyNode(map,config,info){var _step2,_iterator2=GraphFactory_createForOfIteratorHelper(map);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;)for(var _config$layerType$nod,_config$layerType,_entry2=GraphFactory_slicedToArray(_step2.value,2),layerType=_entry2[0],layerMap=_entry2[1],layerCapacity=null!==(_config$layerType$nod=null===(_config$layerType=config[layerType])||void 0===_config$layerType?void 0:_config$layerType.nodeCount)&&void 0!==_config$layerType$nod?_config$layerType$nod:0,nodeIndex=0;nodeIndex<layerCapacity;nodeIndex++)if(!layerMap.has(nodeIndex))return layerMap.set(nodeIndex,info),{success:!0,info:{layer:layerType,indexWithinLayer:nodeIndex}}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}return{success:!1,info:{layer:-1,indexWithinLayer:-1}}}},{key:"removeNode",value:function removeNode(map,node){var _map$get;null===(_map$get=map.get(node.layer))||void 0===_map$get||_map$get.delete(node.indexWithinLayer)}},{key:"getNodeInfoAtPosition",value:function getNodeInfoAtPosition(graphConfig,globalIndex){for(var runningCount=0,layerIndex=0;layerIndex<=this.layers.length-1;layerIndex++){var layerConfig=graphConfig[this.layers[layerIndex]];if(void 0!==layerConfig){var lowerBound=runningCount;if(!(globalIndex>=(runningCount+=layerConfig.nodeCount)))return{layer:layerIndex,indexWithinLayer:globalIndex-lowerBound}}}throw new Error("Could not identify node position")}},{key:"getPreviousLayer",value:function getPreviousLayer(graphConfig,info){var queryLayerIndex=this.layers.indexOf(info.layer);if(queryLayerIndex<=0)throw new Error("No previous layer for layer for "+info.layer);for(var layerIndex=queryLayerIndex-1;layerIndex>=0;layerIndex--){var layer=this.layers[layerIndex];if(void 0!==graphConfig[layer])return layer}throw new Error("Could not identify layer")}},{key:"getNextLayer",value:function getNextLayer(graphConfig,info){var queryLayerIndex=this.layers.indexOf(info.layer),lastLayerIndex=this.layers.length-1;if(queryLayerIndex>=lastLayerIndex)throw new Error("No next layer for layer for "+info.layer);for(var layerIndex=queryLayerIndex+1;layerIndex<=lastLayerIndex;layerIndex++){var layer=this.layers[layerIndex];if(void 0!==graphConfig[layer])return layer}throw new Error("Could not identify layer")}},{key:"buildNodeForGraph",value:function buildNodeForGraph(graphConfig,nodeInfo){var inputSize,connections,participantInfo=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{name:"defaultName",room:"defaultRoom"},layerInfo=graphConfig[nodeInfo.layer];if(void 0===layerInfo)throw new Error("No information on node's layer: "+nodeInfo.layer);if(nodeInfo.indexWithinLayer>=layerInfo.nodeCount)throw new Error("Invalid node (layer: "+nodeInfo.layer+", index: "+nodeInfo.indexWithinLayer+") for graph of capacity "+graphConfig.capacity);if(nodeInfo.layer!==EParticipantRole.Z.InputLayer){var previousLayer=this.getPreviousLayer(graphConfig,nodeInfo),previousLayerInfo=graphConfig[previousLayer];if(void 0===previousLayerInfo)throw new Error("No information on previous layer "+previousLayer);if(!(nodeInfo.indexWithinLayer<previousLayerInfo.outputsPerNode))throw new Error("Not enough outputs in layer "+previousLayer+" to connect with node "+nodeInfo.indexWithinLayer+" within layer "+nodeInfo.layer);inputSize=previousLayerInfo.nodeCount,connections=_toConsumableArray(Array(inputSize).keys()).map((function(index){var layerInfo={layer:previousLayer,indexWithinLayer:index},dataInfo={indexWithinDataPacket:nodeInfo.indexWithinLayer};return Object.assign({},layerInfo,dataInfo)}))}else inputSize=0,connections=void 0;var outputSize=layerInfo.outputsPerNode;return new graph_C2CNode(participantInfo,nodeInfo,inputSize,outputSize,connections)}},{key:"addToGraph",value:function addToGraph(graph,graphConfig,layer){if(void 0!==graphConfig[layer])for(var nodeCount=graphConfig[layer].nodeCount,i=0;i<nodeCount;i++){var _graph$get,node=this.buildNodeForGraph(graphConfig,{layer,indexWithinLayer:i});if(graph.has(layer))null===(_graph$get=graph.get(layer))||void 0===_graph$get||_graph$get.push(node);else graph.set(layer,[node])}}},{key:"buildGraph",value:function buildGraph(graphConfig){var _this=this,map=new Map;return this.layers.filter((function(layer){return graphConfig[layer]})).forEach((function(layer){return _this.addToGraph(map,graphConfig,layer)})),map}}]),GraphFactory}();const graph_GraphFactory=GraphFactory;var graphFactory=(0,__webpack_require__("./node_modules/svelte/store/index.mjs").PX)(new graph_GraphFactory),getOffset=function getOffset(el){var rect=el.getBoundingClientRect();return{left:rect.left+window.pageXOffset,top:rect.top+window.pageYOffset,width:rect.width||el.offsetWidth,height:rect.height||el.offsetHeight}},activityStore=__webpack_require__("./src/lib/stores/activityStore.ts"),colors=__webpack_require__("./src/lib/colors.ts");__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _waitForCondition(){return _waitForCondition=_asyncToGenerator(regeneratorRuntime.mark((function _callee(condition){var delay,timeout,_args=arguments;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:delay=_args.length>1&&void 0!==_args[1]?_args[1]:100,timeout=setTimeout((function(){return null}),0);case 2:if(condition()){_context.next=7;break}return _context.next=5,new Promise((function(resolve){clearTimeout(timeout),timeout=setTimeout(resolve,delay)}));case 5:_context.next=2;break;case 7:clearTimeout(timeout);case 8:case"end":return _context.stop()}}),_callee)}))),_waitForCondition.apply(this,arguments)}function add_css(target){(0,internal.qOq)(target,"svelte-9mbcq3",".column.svelte-9mbcq3{display:inline-block;margin:auto;vertical-align:middle;align-items:center;text-align:center}.gap.svelte-9mbcq3{width:100px}.node.svelte-9mbcq3{width:20px;height:20px;margin:auto;border-radius:50%;background-color:var(--color);z-index:10}.nodeName.svelte-9mbcq3{z-index:10;font-size:1rem;border-radius:1rem;margin-top:0.25rem;padding:0.1rem 0.25rem;background-color:rgba(255, 255, 255, 0.5);font-family:sans-serif}.output.svelte-9mbcq3{width:100px;height:100px;background-color:black}.pad.svelte-9mbcq3{margin-top:20px}")}function get_each_context(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[15]=list[i],child_ctx}function get_each_context_1(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[18]=list[i][0],child_ctx[19]=list[i][1],child_ctx[20]=list,child_ctx[21]=i,child_ctx}function get_each_context_2(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[22]=list[i],child_ctx[23]=list,child_ctx[24]=i,child_ctx}function create_else_block(ctx){let em;return{c(){em=(0,internal.bGB)("em"),em.textContent=`${unfilledName}`},m(target,anchor){(0,internal.$Tr)(target,em,anchor)},p:internal.ZTd,d(detaching){detaching&&(0,internal.ogt)(em)}}}function create_if_block_1(ctx){let t,t_value=ctx[2].get(ctx[18])[ctx[24]]+"";return{c(){t=(0,internal.fLW)(t_value)},m(target,anchor){(0,internal.$Tr)(target,t,anchor)},p(ctx,dirty){4&dirty&&t_value!==(t_value=ctx[2].get(ctx[18])[ctx[24]]+"")&&(0,internal.rTO)(t,t_value)},d(detaching){detaching&&(0,internal.ogt)(t)}}}function create_if_block(ctx){let strong,t0,t1,t0_value=ctx[0].participantName+"";return{c(){strong=(0,internal.bGB)("strong"),t0=(0,internal.fLW)(t0_value),t1=(0,internal.fLW)(" (You!)")},m(target,anchor){(0,internal.$Tr)(target,strong,anchor),(0,internal.R3I)(strong,t0),(0,internal.R3I)(strong,t1)},p(ctx,dirty){1&dirty&&t0_value!==(t0_value=ctx[0].participantName+"")&&(0,internal.rTO)(t0,t0_value)},d(detaching){detaching&&(0,internal.ogt)(strong)}}}function create_each_block_2(ctx){let div0,div0_style_value,t0,div1,show_if,show_if_1,t1,layerType=ctx[18],nodeIndex=ctx[24];const assign_div0=()=>ctx[10](div0,layerType,nodeIndex),unassign_div0=()=>ctx[10](null,layerType,nodeIndex);function select_block_type(ctx,dirty){return 4&dirty&&(show_if_1=null),null==show_if&&(show_if=!!ctx[7](ctx[18],ctx[24])),show_if?create_if_block:(null==show_if_1&&(show_if_1=!!ctx[2]?.get(ctx[18])?.[ctx[24]]),show_if_1?create_if_block_1:create_else_block)}let current_block_type=select_block_type(ctx,-1),if_block=current_block_type(ctx);return{c(){div0=(0,internal.bGB)("div"),t0=(0,internal.DhX)(),div1=(0,internal.bGB)("div"),if_block.c(),t1=(0,internal.DhX)(),(0,internal.Ljt)(div0,"style",div0_style_value=ctx[5](ctx[21])),(0,internal.Ljt)(div0,"class","svelte-9mbcq3"),(0,internal.VHj)(div0,"node",node),(0,internal.VHj)(div0,"pad",ctx[24]>0),(0,internal.Ljt)(div1,"class","svelte-9mbcq3"),(0,internal.VHj)(div1,"nodeName",nodeName)},m(target,anchor){(0,internal.$Tr)(target,div0,anchor),assign_div0(),(0,internal.$Tr)(target,t0,anchor),(0,internal.$Tr)(target,div1,anchor),if_block.m(div1,null),(0,internal.R3I)(div1,t1)},p(new_ctx,dirty){layerType===(ctx=new_ctx)[18]&&nodeIndex===ctx[24]||(unassign_div0(),layerType=ctx[18],nodeIndex=ctx[24],assign_div0()),current_block_type===(current_block_type=select_block_type(ctx,dirty))&&if_block?if_block.p(ctx,dirty):(if_block.d(1),if_block=current_block_type(ctx),if_block&&(if_block.c(),if_block.m(div1,t1)))},d(detaching){detaching&&(0,internal.ogt)(div0),unassign_div0(),detaching&&(0,internal.ogt)(t0),detaching&&(0,internal.ogt)(div1),if_block.d()}}}function create_each_block_1(ctx){let div0,div0_style_value,t,div2,div1,each_value_2=Array(ctx[19].nodeCount),each_blocks=[];for(let i=0;i<each_value_2.length;i+=1)each_blocks[i]=create_each_block_2(get_each_context_2(ctx,each_value_2,i));return{c(){div0=(0,internal.bGB)("div");for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();t=(0,internal.DhX)(),div2=(0,internal.bGB)("div"),div1=(0,internal.bGB)("div"),(0,internal.Ljt)(div0,"style",div0_style_value=(0,colors.Tm)(ctx[18],"--color")),(0,internal.Ljt)(div0,"class","svelte-9mbcq3"),(0,internal.VHj)(div0,"column",column),(0,internal.Ljt)(div1,"class","svelte-9mbcq3"),(0,internal.VHj)(div1,"gap",gap),(0,internal.Ljt)(div2,"class","svelte-9mbcq3"),(0,internal.VHj)(div2,"column",column)},m(target,anchor){(0,internal.$Tr)(target,div0,anchor);for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(div0,null);(0,internal.$Tr)(target,t,anchor),(0,internal.$Tr)(target,div2,anchor),(0,internal.R3I)(div2,div1)},p(ctx,dirty){if(183&dirty){let i;for(each_value_2=Array(ctx[19].nodeCount),i=0;i<each_value_2.length;i+=1){const child_ctx=get_each_context_2(ctx,each_value_2,i);each_blocks[i]?each_blocks[i].p(child_ctx,dirty):(each_blocks[i]=create_each_block_2(child_ctx),each_blocks[i].c(),each_blocks[i].m(div0,null))}for(;i<each_blocks.length;i+=1)each_blocks[i].d(1);each_blocks.length=each_value_2.length}},d(detaching){detaching&&(0,internal.ogt)(div0),(0,internal.RMB)(each_blocks,detaching),detaching&&(0,internal.ogt)(t),detaching&&(0,internal.ogt)(div2)}}}function create_catch_block(ctx){return{c:internal.ZTd,m:internal.ZTd,p:internal.ZTd,d:internal.ZTd}}function create_then_block(ctx){let each_1_anchor,each_value=ctx[14],each_blocks=[];for(let i=0;i<each_value.length;i+=1)each_blocks[i]=create_each_block(get_each_context(ctx,each_value,i));return{c(){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();each_1_anchor=(0,internal.cSb)()},m(target,anchor){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(target,anchor);(0,internal.$Tr)(target,each_1_anchor,anchor)},p(ctx,dirty){if(64&dirty){let i;for(each_value=ctx[14],i=0;i<each_value.length;i+=1){const child_ctx=get_each_context(ctx,each_value,i);each_blocks[i]?each_blocks[i].p(child_ctx,dirty):(each_blocks[i]=create_each_block(child_ctx),each_blocks[i].c(),each_blocks[i].m(each_1_anchor.parentNode,each_1_anchor))}for(;i<each_blocks.length;i+=1)each_blocks[i].d(1);each_blocks.length=each_value.length}},d(detaching){(0,internal.RMB)(each_blocks,detaching),detaching&&(0,internal.ogt)(each_1_anchor)}}}function create_each_block(ctx){let div,div_style_value;return{c(){div=(0,internal.bGB)("div"),(0,internal.Ljt)(div,"style",div_style_value=ctx[15])},m(target,anchor){(0,internal.$Tr)(target,div,anchor)},p:internal.ZTd,d(detaching){detaching&&(0,internal.ogt)(div)}}}function create_pending_block(ctx){return{c:internal.ZTd,m:internal.ZTd,p:internal.ZTd,d:internal.ZTd}}function create_fragment(ctx){let div1,t0,div0,div0_style_value,t1,await_block_anchor,promise,each_value_1=[...ctx[4]],each_blocks=[];for(let i=0;i<each_value_1.length;i+=1)each_blocks[i]=create_each_block_1(get_each_context_1(ctx,each_value_1,i));let info={ctx,current:null,token:null,hasCatch:!1,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:14};return(0,internal.CR_)(promise=ctx[6](),info),{c(){div1=(0,internal.bGB)("div");for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();t0=(0,internal.DhX)(),div0=(0,internal.bGB)("div"),t1=(0,internal.DhX)(),await_block_anchor=(0,internal.cSb)(),info.block.c(),(0,internal.Ljt)(div0,"style",div0_style_value=ctx[5](ctx[3].depth)),(0,internal.Ljt)(div0,"class","svelte-9mbcq3"),(0,internal.VHj)(div0,"column",column),(0,internal.VHj)(div0,"output",output)},m(target,anchor){(0,internal.$Tr)(target,div1,anchor);for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(div1,null);(0,internal.R3I)(div1,t0),(0,internal.R3I)(div1,div0),(0,internal.$Tr)(target,t1,anchor),(0,internal.$Tr)(target,await_block_anchor,anchor),info.block.m(target,info.anchor=anchor),info.mount=()=>await_block_anchor.parentNode,info.anchor=await_block_anchor},p(new_ctx,[dirty]){if(ctx=new_ctx,183&dirty){let i;for(each_value_1=[...ctx[4]],i=0;i<each_value_1.length;i+=1){const child_ctx=get_each_context_1(ctx,each_value_1,i);each_blocks[i]?each_blocks[i].p(child_ctx,dirty):(each_blocks[i]=create_each_block_1(child_ctx),each_blocks[i].c(),each_blocks[i].m(div1,t0))}for(;i<each_blocks.length;i+=1)each_blocks[i].d(1);each_blocks.length=each_value_1.length}(0,internal.xfz)(info,ctx,dirty)},i:internal.ZTd,o:internal.ZTd,d(detaching){detaching&&(0,internal.ogt)(div1),(0,internal.RMB)(each_blocks,detaching),detaching&&(0,internal.ogt)(t1),detaching&&(0,internal.ogt)(await_block_anchor),info.block.d(detaching),info.token=null,info=null}}}const column=!0,node=!0,output=!0,gap=!0,nodeName=!0,unfilledName="waiting...";function instance($$self,$$props,$$invalidate){let $graphFactory,$nameMap;(0,internal.FIv)($$self,graphFactory,($$value=>$$invalidate(11,$graphFactory=$$value))),(0,internal.FIv)($$self,activityStore.zQ,($$value=>$$invalidate(2,$nameMap=$$value)));let{capacity}=$$props,{self}=$$props,{others}=$$props;const graphConfig=$graphFactory.getConfig(capacity),layerMap=$graphFactory.getLayerConfigMap(graphConfig),graph=$graphFactory.buildGraph(graphConfig),elements=[...layerMap].reduce(((obj,[type,layerConfig])=>{const update={...obj};return update[type]=Array(layerConfig.nodeCount),update}),{}),styleForConnection=(input,destinationLayer,layerIndex)=>function getConnectionStyle(div1,div2,thickness){var off1=getOffset(div1),off2=getOffset(div2),x1=off1.left+off1.width/2,y1=off1.top+off1.height/2,x2=off2.left+off2.width/2,y2=off2.top+off1.height/2,color1=window.getComputedStyle(div1).backgroundColor,color2=window.getComputedStyle(div2).backgroundColor,length=Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)),cx=(x1+x2)/2-length/2,cy=(y1+y2)/2-thickness/2,angle=Math.atan2(y1-y2,x1-x2)*(180/Math.PI);return"padding: 0px;\n  margin: 0px;\n  height: "+thickness+"px;\n  line-height:1px; \n  position:absolute; \n  left: "+cx+"px; \n  top: "+cy+"px; \n  width: "+length+"px; \n  z-index: -1;\n  -moz-transform:rotate("+angle+"deg); \n  -webkit-transform:rotate("+angle+"deg); \n  -o-transform:rotate("+angle+"deg); \n  -ms-transform:rotate("+angle+"deg); \n  transform:rotate("+angle+"deg);\n  background-image: linear-gradient(to left, "+color1+", "+color1+", "+color2+");"}(elements[input.layer][input.indexWithinLayer],elements[destinationLayer][layerIndex],1);return $$self.$$set=$$props=>{"capacity"in $$props&&$$invalidate(8,capacity=$$props.capacity),"self"in $$props&&$$invalidate(0,self=$$props.self),"others"in $$props&&$$invalidate(9,others=$$props.others)},[self,elements,$nameMap,graphConfig,layerMap,column=>`grid-column: ${column}`,async()=>{await function waitForCondition(_x){return _waitForCondition.apply(this,arguments)}((()=>void 0!==elements[0][0]));const styles=[];return[...layerMap].forEach((([layerType,layerConfig])=>{for(let nodeIndex=0;nodeIndex<layerConfig.nodeCount;nodeIndex++){graph.get(layerType)[nodeIndex].connectedInputInfo?.forEach((input=>{const style=styleForConnection(input,layerType,nodeIndex);styles.push(style)}))}})),styles},(layerType,nodeIndex)=>self?.layer===layerType&&self?.indexWithinLayer===nodeIndex,capacity,others,function div0_binding($$value,layerType,nodeIndex){internal.VnY[$$value?"unshift":"push"]((()=>{elements[layerType][nodeIndex]=$$value,$$invalidate(1,elements)}))}]}class NeuralNetwork extends internal.f_C{constructor(options){super(),(0,internal.S1n)(this,options,instance,create_fragment,internal.N8,{capacity:8,self:0,others:9},add_css)}}const NeuralNetwork_svelte=NeuralNetwork;function create_default_slot(ctx){let neuralnetwork,current;const neuralnetwork_spread_levels=[ctx[0]];let neuralnetwork_props={};for(let i=0;i<neuralnetwork_spread_levels.length;i+=1)neuralnetwork_props=(0,internal.f0i)(neuralnetwork_props,neuralnetwork_spread_levels[i]);return neuralnetwork=new NeuralNetwork_svelte({props:neuralnetwork_props}),{c(){(0,internal.YCL)(neuralnetwork.$$.fragment)},m(target,anchor){(0,internal.yef)(neuralnetwork,target,anchor),current=!0},p(ctx,dirty){const neuralnetwork_changes=1&dirty?(0,internal.LoY)(neuralnetwork_spread_levels,[(0,internal.gCg)(ctx[0])]):{};neuralnetwork.$set(neuralnetwork_changes)},i(local){current||((0,internal.Ui)(neuralnetwork.$$.fragment,local),current=!0)},o(local){(0,internal.etI)(neuralnetwork.$$.fragment,local),current=!1},d(detaching){(0,internal.vpE)(neuralnetwork,detaching)}}}function NeuralNetwork_stories_svelte_create_fragment(ctx){let meta,t0,template,t1,story,current;return meta=new cjs.Meta({props:{title:"components/activity/common/NeuralNetwork",component:NeuralNetwork_svelte,argTypes:{capacity:{defaultValue:6,control:{type:"range",min:6,max:12,step:1}}}}}),template=new cjs.Template({props:{$$slots:{default:[create_default_slot,({args})=>({0:args}),({args})=>args?1:0]},$$scope:{ctx}}}),story=new cjs.Story({props:{name:"Default"}}),{c(){(0,internal.YCL)(meta.$$.fragment),t0=(0,internal.DhX)(),(0,internal.YCL)(template.$$.fragment),t1=(0,internal.DhX)(),(0,internal.YCL)(story.$$.fragment)},m(target,anchor){(0,internal.yef)(meta,target,anchor),(0,internal.$Tr)(target,t0,anchor),(0,internal.yef)(template,target,anchor),(0,internal.$Tr)(target,t1,anchor),(0,internal.yef)(story,target,anchor),current=!0},p(ctx,[dirty]){const template_changes={};3&dirty&&(template_changes.$$scope={dirty,ctx}),template.$set(template_changes)},i(local){current||((0,internal.Ui)(meta.$$.fragment,local),(0,internal.Ui)(template.$$.fragment,local),(0,internal.Ui)(story.$$.fragment,local),current=!0)},o(local){(0,internal.etI)(meta.$$.fragment,local),(0,internal.etI)(template.$$.fragment,local),(0,internal.etI)(story.$$.fragment,local),current=!1},d(detaching){(0,internal.vpE)(meta,detaching),detaching&&(0,internal.ogt)(t0),(0,internal.vpE)(template,detaching),detaching&&(0,internal.ogt)(t1),(0,internal.vpE)(story,detaching)}}}class NeuralNetwork_stories extends internal.f_C{constructor(options){super(),(0,internal.S1n)(this,options,null,NeuralNetwork_stories_svelte_create_fragment,internal.N8,{})}}NeuralNetwork_stories.__docgen={version:3,name:"NeuralNetwork.stories.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const{default:parser}=__webpack_require__("./node_modules/@storybook/addon-svelte-csf/dist/cjs/parser/collect-stories.js"),__storiesMetaData=parser(NeuralNetwork_stories,{stories:{"tpl:default":{name:"default",template:!0,source:"<NeuralNetwork {...args} />",hasArgs:!0},Default:{name:"Default",template:!1,hasArgs:!1}},allocatedIds:["default","Meta","Template","Story","NeuralNetwork"]}),NeuralNetwork_stories_svelte=__storiesMetaData.meta,Default=__storiesMetaData.stories.Default},"./src/lib/components/activity/layerDisplay/canvases/stories/DrawableImage.stories.svelte":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var svelte_internal__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/svelte/internal/index.mjs"),_storybook_addon_svelte_csf__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/addon-svelte-csf/dist/cjs/index.js"),$lib_components_activity_layerDisplay_canvases_DrawableImage_svelte__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/lib/components/activity/layerDisplay/canvases/DrawableImage.svelte");function create_default_slot(ctx){let drawableimage,current;const drawableimage_spread_levels=[ctx[0]];let drawableimage_props={};for(let i=0;i<drawableimage_spread_levels.length;i+=1)drawableimage_props=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.f0i)(drawableimage_props,drawableimage_spread_levels[i]);return drawableimage=new $lib_components_activity_layerDisplay_canvases_DrawableImage_svelte__WEBPACK_IMPORTED_MODULE_2__.Z({props:drawableimage_props}),{c(){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(drawableimage.$$.fragment)},m(target,anchor){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(drawableimage,target,anchor),current=!0},p(ctx,dirty){const drawableimage_changes=1&dirty?(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.LoY)(drawableimage_spread_levels,[(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.gCg)(ctx[0])]):{};drawableimage.$set(drawableimage_changes)},i(local){current||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(drawableimage.$$.fragment,local),current=!0)},o(local){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(drawableimage.$$.fragment,local),current=!1},d(detaching){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(drawableimage,detaching)}}}function create_fragment(ctx){let meta,t0,template,t1,story,current;return meta=new _storybook_addon_svelte_csf__WEBPACK_IMPORTED_MODULE_1__.Meta({props:{title:"components/activity/layerDisplay/canvases/DrawableImage",component:$lib_components_activity_layerDisplay_canvases_DrawableImage_svelte__WEBPACK_IMPORTED_MODULE_2__.Z,argTypes:{}}}),template=new _storybook_addon_svelte_csf__WEBPACK_IMPORTED_MODULE_1__.Template({props:{$$slots:{default:[create_default_slot,({args})=>({0:args}),({args})=>args?1:0]},$$scope:{ctx}}}),story=new _storybook_addon_svelte_csf__WEBPACK_IMPORTED_MODULE_1__.Story({props:{name:"Default"}}),{c(){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(meta.$$.fragment),t0=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(template.$$.fragment),t1=(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.DhX)(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.YCL)(story.$$.fragment)},m(target,anchor){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(meta,target,anchor),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(target,t0,anchor),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(template,target,anchor),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.$Tr)(target,t1,anchor),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.yef)(story,target,anchor),current=!0},p(ctx,[dirty]){const template_changes={};3&dirty&&(template_changes.$$scope={dirty,ctx}),template.$set(template_changes)},i(local){current||((0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(meta.$$.fragment,local),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(template.$$.fragment,local),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.Ui)(story.$$.fragment,local),current=!0)},o(local){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(meta.$$.fragment,local),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(template.$$.fragment,local),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.etI)(story.$$.fragment,local),current=!1},d(detaching){(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(meta,detaching),detaching&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(t0),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(template,detaching),detaching&&(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.ogt)(t1),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.vpE)(story,detaching)}}}class DrawableImage_stories extends svelte_internal__WEBPACK_IMPORTED_MODULE_0__.f_C{constructor(options){super(),(0,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.S1n)(this,options,null,create_fragment,svelte_internal__WEBPACK_IMPORTED_MODULE_0__.N8,{})}}DrawableImage_stories.__docgen={version:3,name:"DrawableImage.stories.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const{default:parser}=__webpack_require__("./node_modules/@storybook/addon-svelte-csf/dist/cjs/parser/collect-stories.js"),__storiesMetaData=parser(DrawableImage_stories,{stories:{"tpl:default":{name:"default",template:!0,source:"<DrawableImage {...args} />",hasArgs:!0},Default:{name:"Default",template:!1,hasArgs:!1}},allocatedIds:["default","Meta","Template","Story","DrawableImage"]}),__WEBPACK_DEFAULT_EXPORT__=__storiesMetaData.meta,Default=__storiesMetaData.stories.Default},"./src/lib/components/activity/layerDisplay/stories/InputLayer.stories.svelte":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>InputLayer_stories_svelte});var internal=__webpack_require__("./node_modules/svelte/internal/index.mjs"),cjs=__webpack_require__("./node_modules/@storybook/addon-svelte-csf/dist/cjs/index.js"),colors=__webpack_require__("./src/lib/colors.ts"),activityStore=__webpack_require__("./src/lib/stores/activityStore.ts"),displayable=__webpack_require__("./src/lib/components/activity/layerDisplay/canvases/displayable.ts");function add_css(target){(0,internal.qOq)(target,"svelte-17qv1tn","canvas.svelte-17qv1tn{border-radius:20px}")}function create_fragment(ctx){let canvas_1,canvas_1_style_value,displayable_action,mounted,dispose;return{c(){canvas_1=(0,internal.bGB)("canvas"),(0,internal.Ljt)(canvas_1,"style",canvas_1_style_value=ctx[1]?ctx[8]:ctx[9]),(0,internal.Ljt)(canvas_1,"class","svelte-17qv1tn")},m(target,anchor){(0,internal.$Tr)(target,canvas_1,anchor),ctx[12](canvas_1),mounted||(dispose=(0,internal.TVh)(displayable_action=displayable.Z.call(null,canvas_1,{width:ctx[0],height:ctx[2],size:ctx[3],color:(0,colors.vq)(ctx[4]),path:ctx[7],fill:(0,colors.vq)(ctx[5])})),mounted=!0)},p(ctx,[dirty]){2&dirty&&canvas_1_style_value!==(canvas_1_style_value=ctx[1]?ctx[8]:ctx[9])&&(0,internal.Ljt)(canvas_1,"style",canvas_1_style_value),displayable_action&&(0,internal.sBU)(displayable_action.update)&&189&dirty&&displayable_action.update.call(null,{width:ctx[0],height:ctx[2],size:ctx[3],color:(0,colors.vq)(ctx[4]),path:ctx[7],fill:(0,colors.vq)(ctx[5])})},i:internal.ZTd,o:internal.ZTd,d(detaching){detaching&&(0,internal.ogt)(canvas_1),ctx[12](null),mounted=!1,dispose()}}}function instance($$self,$$props,$$invalidate){let path,canvas,context,{width}=$$props,{isActive}=$$props,{height}=$$props,{size}=$$props,{color}=$$props,{backgroundColor={red:250,green:229,blue:192}}=$$props;const activeStyle=`border: 3px solid ${(0,colors.vq)(colors.LR)};`;return $$self.$$set=$$props=>{"width"in $$props&&$$invalidate(0,width=$$props.width),"isActive"in $$props&&$$invalidate(1,isActive=$$props.isActive),"height"in $$props&&$$invalidate(2,height=$$props.height),"size"in $$props&&$$invalidate(3,size=$$props.size),"color"in $$props&&$$invalidate(4,color=$$props.color),"backgroundColor"in $$props&&$$invalidate(5,backgroundColor=$$props.backgroundColor)},$$self.$$.update=()=>{64&$$self.$$.dirty&&(context=canvas?.getContext("2d"))},[width,isActive,height,size,color,backgroundColor,canvas,path,activeStyle,"border: 3px solid grey;",function draw(p){$$invalidate(7,path=[...p])},function clear(){context?.clearRect(0,0,width,height),$$invalidate(7,path=[])},function canvas_1_binding($$value){internal.VnY[$$value?"unshift":"push"]((()=>{canvas=$$value,$$invalidate(6,canvas)}))}]}class DisplayCanvas extends internal.f_C{constructor(options){super(),(0,internal.S1n)(this,options,instance,create_fragment,internal.N8,{width:0,isActive:1,height:2,size:3,color:4,backgroundColor:5,draw:10,clear:11},add_css)}get draw(){return this.$$.ctx[10]}get clear(){return this.$$.ctx[11]}}const DisplayCanvas_svelte=DisplayCanvas;var DrawableImage_svelte=__webpack_require__("./src/lib/components/activity/layerDisplay/canvases/DrawableImage.svelte");function InputLayer_svelte_add_css(target){(0,internal.qOq)(target,"svelte-u6nqfw",".pageContainer.svelte-u6nqfw.svelte-u6nqfw{height:100vh;width:100vw;background-color:rgb(246, 204, 130);font-family:sans-serif}.title.svelte-u6nqfw.svelte-u6nqfw{margin:0px auto;width:fit-content;padding:20px;font-size:2rem;color:white}.imageRow.svelte-u6nqfw.svelte-u6nqfw{margin:0px auto;width:fit-content}.imageRow.svelte-u6nqfw>.svelte-u6nqfw{vertical-align:top;display:inline-block}.imageColumn.svelte-u6nqfw.svelte-u6nqfw{padding-right:20px}.instructionsColumn.svelte-u6nqfw.svelte-u6nqfw{color:rgb(80, 80, 80)}.buttonRow.svelte-u6nqfw.svelte-u6nqfw{margin:10px auto;width:fit-content}.buttonRow.svelte-u6nqfw>button.svelte-u6nqfw{border-radius:5px;border:1px solid grey}.displayContainer.svelte-u6nqfw.svelte-u6nqfw{display:grid;grid-template-rows:1;overflow:scroll;width:fit-content;margin:10px auto}.displayItem.svelte-u6nqfw.svelte-u6nqfw{grid-row:1;border-radius:50%;margin-right:20px}")}function get_each_context(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[20]=list[i],child_ctx[21]=list,child_ctx[22]=i,child_ctx}function create_each_block(ctx){let div,displaycanvas,t,current,index=ctx[22];const assign_displaycanvas=()=>ctx[18](displaycanvas,index),unassign_displaycanvas=()=>ctx[18](null,index);let displaycanvas_props={isActive:ctx[22]===ctx[1],size,width,height:ctx[4],color:ctx[10]};return displaycanvas=new DisplayCanvas_svelte({props:displaycanvas_props}),assign_displaycanvas(),{c(){div=(0,internal.bGB)("div"),(0,internal.YCL)(displaycanvas.$$.fragment),t=(0,internal.DhX)(),(0,internal.Ljt)(div,"class","svelte-u6nqfw"),(0,internal.VHj)(div,"displayItem",displayItem)},m(target,anchor){(0,internal.$Tr)(target,div,anchor),(0,internal.yef)(displaycanvas,div,null),(0,internal.R3I)(div,t),current=!0},p(ctx,dirty){index!==ctx[22]&&(unassign_displaycanvas(),index=ctx[22],assign_displaycanvas());const displaycanvas_changes={};2&dirty&&(displaycanvas_changes.isActive=ctx[22]===ctx[1]),16&dirty&&(displaycanvas_changes.height=ctx[4]),displaycanvas.$set(displaycanvas_changes)},i(local){current||((0,internal.Ui)(displaycanvas.$$.fragment,local),current=!0)},o(local){(0,internal.etI)(displaycanvas.$$.fragment,local),current=!1},d(detaching){detaching&&(0,internal.ogt)(div),unassign_displaycanvas(),(0,internal.vpE)(displaycanvas)}}}function InputLayer_svelte_create_fragment(ctx){let div6,div0,t1,div4,div2,drawableimage,updating_height,t2,div1,button0,t3,button0_disabled_value,t4,button1,t5,button1_disabled_value,t6,button2,t7,button2_disabled_value,t8,br0,t9,p1,t10,t11,t12,div3,p2,t14,p3,t16,p4,t17,t18,t19,t20,p5,t22,p6,t25,div5,current,mounted,dispose,t11_value=Math.max(0,distanceLimit-Math.ceil(ctx[8]))+"";function drawableimage_height_binding(value){ctx[17](value)}let drawableimage_props={width,size,color:ctx[9],displayPaths:ctx[6],displayColor:ctx[10],enabled:ctx[0]};void 0!==ctx[4]&&(drawableimage_props.height=ctx[4]),drawableimage=new DrawableImage_svelte.Z({props:drawableimage_props}),ctx[16](drawableimage),internal.VnY.push((()=>(0,internal.akz)(drawableimage,"height",drawableimage_height_binding))),drawableimage.$on("mouseup",ctx[12]),drawableimage.$on("pathUpdate",ctx[11]);let each_value=ctx[5],each_blocks=[];for(let i=0;i<each_value.length;i+=1)each_blocks[i]=create_each_block(get_each_context(ctx,each_value,i));const out=i=>(0,internal.etI)(each_blocks[i],1,1,(()=>{each_blocks[i]=null}));return{c(){div6=(0,internal.bGB)("div"),div0=(0,internal.bGB)("div"),div0.innerHTML="<p>It&#39;s your turn!</p>",t1=(0,internal.DhX)(),div4=(0,internal.bGB)("div"),div2=(0,internal.bGB)("div"),(0,internal.YCL)(drawableimage.$$.fragment),t2=(0,internal.DhX)(),div1=(0,internal.bGB)("div"),button0=(0,internal.bGB)("button"),t3=(0,internal.fLW)("Add"),t4=(0,internal.DhX)(),button1=(0,internal.bGB)("button"),t5=(0,internal.fLW)("Reset"),t6=(0,internal.DhX)(),button2=(0,internal.bGB)("button"),t7=(0,internal.fLW)("Send"),t8=(0,internal.DhX)(),br0=(0,internal.bGB)("br"),t9=(0,internal.DhX)(),p1=(0,internal.bGB)("p"),t10=(0,internal.fLW)("Remaining Distance:\n          "),t11=(0,internal.fLW)(t11_value),t12=(0,internal.DhX)(),div3=(0,internal.bGB)("div"),p2=(0,internal.bGB)("p"),p2.innerHTML="<strong>Instructions:</strong>",t14=(0,internal.DhX)(),p3=(0,internal.bGB)("p"),p3.textContent="Help the network guess what animal this is!",t16=(0,internal.DhX)(),p4=(0,internal.bGB)("p"),t17=(0,internal.fLW)("Add "),t18=(0,internal.fLW)(ctx[3]),t19=(0,internal.fLW)(" contours to send to the hidden layers."),t20=(0,internal.DhX)(),p5=(0,internal.bGB)("p"),p5.textContent="Click and drag on the image to draw a contour.",t22=(0,internal.DhX)(),p6=(0,internal.bGB)("p"),p6.innerHTML="The contour will end when you either lift your finger,\n        <br/>or reach the distance limit.",t25=(0,internal.DhX)(),div5=(0,internal.bGB)("div");for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();(0,internal.Ljt)(div0,"class","svelte-u6nqfw"),(0,internal.VHj)(div0,"title",title),button0.disabled=button0_disabled_value=ctx[2]||0===ctx[8],(0,internal.Ljt)(button0,"class","svelte-u6nqfw"),button1.disabled=button1_disabled_value=ctx[2]||0===ctx[8],(0,internal.Ljt)(button1,"class","svelte-u6nqfw"),button2.disabled=button2_disabled_value=!ctx[2],(0,internal.Ljt)(button2,"class","svelte-u6nqfw"),(0,internal.Ljt)(div1,"class","svelte-u6nqfw"),(0,internal.VHj)(div1,"buttonRow",buttonRow),(0,internal.Ljt)(div2,"class","svelte-u6nqfw"),(0,internal.VHj)(div2,"imageColumn",imageColumn),(0,internal.Ljt)(div3,"class","svelte-u6nqfw"),(0,internal.VHj)(div3,"instructionsColumn",instructionsColumn),(0,internal.Ljt)(div4,"class","svelte-u6nqfw"),(0,internal.VHj)(div4,"imageRow",imageRow),(0,internal.Ljt)(div5,"class","svelte-u6nqfw"),(0,internal.VHj)(div5,"displayContainer",displayContainer),(0,internal.Ljt)(div6,"class","svelte-u6nqfw"),(0,internal.VHj)(div6,"pageContainer",pageContainer)},m(target,anchor){(0,internal.$Tr)(target,div6,anchor),(0,internal.R3I)(div6,div0),(0,internal.R3I)(div6,t1),(0,internal.R3I)(div6,div4),(0,internal.R3I)(div4,div2),(0,internal.yef)(drawableimage,div2,null),(0,internal.R3I)(div2,t2),(0,internal.R3I)(div2,div1),(0,internal.R3I)(div1,button0),(0,internal.R3I)(button0,t3),(0,internal.R3I)(div1,t4),(0,internal.R3I)(div1,button1),(0,internal.R3I)(button1,t5),(0,internal.R3I)(div1,t6),(0,internal.R3I)(div1,button2),(0,internal.R3I)(button2,t7),(0,internal.R3I)(div1,t8),(0,internal.R3I)(div1,br0),(0,internal.R3I)(div1,t9),(0,internal.R3I)(div1,p1),(0,internal.R3I)(p1,t10),(0,internal.R3I)(p1,t11),(0,internal.R3I)(div4,t12),(0,internal.R3I)(div4,div3),(0,internal.R3I)(div3,p2),(0,internal.R3I)(div3,t14),(0,internal.R3I)(div3,p3),(0,internal.R3I)(div3,t16),(0,internal.R3I)(div3,p4),(0,internal.R3I)(p4,t17),(0,internal.R3I)(p4,t18),(0,internal.R3I)(p4,t19),(0,internal.R3I)(div3,t20),(0,internal.R3I)(div3,p5),(0,internal.R3I)(div3,t22),(0,internal.R3I)(div3,p6),(0,internal.R3I)(div6,t25),(0,internal.R3I)(div6,div5);for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(div5,null);current=!0,mounted||(dispose=[(0,internal.oLt)(button0,"click",ctx[13]),(0,internal.oLt)(button1,"click",ctx[14]),(0,internal.oLt)(button2,"click",ctx[15])],mounted=!0)},p(ctx,[dirty]){const drawableimage_changes={};if(64&dirty&&(drawableimage_changes.displayPaths=ctx[6]),1&dirty&&(drawableimage_changes.enabled=ctx[0]),!updating_height&&16&dirty&&(updating_height=!0,drawableimage_changes.height=ctx[4],(0,internal.hjT)((()=>updating_height=!1))),drawableimage.$set(drawableimage_changes),(!current||260&dirty&&button0_disabled_value!==(button0_disabled_value=ctx[2]||0===ctx[8]))&&(button0.disabled=button0_disabled_value),(!current||260&dirty&&button1_disabled_value!==(button1_disabled_value=ctx[2]||0===ctx[8]))&&(button1.disabled=button1_disabled_value),(!current||4&dirty&&button2_disabled_value!==(button2_disabled_value=!ctx[2]))&&(button2.disabled=button2_disabled_value),(!current||256&dirty)&&t11_value!==(t11_value=Math.max(0,distanceLimit-Math.ceil(ctx[8]))+"")&&(0,internal.rTO)(t11,t11_value),(!current||8&dirty)&&(0,internal.rTO)(t18,ctx[3]),1074&dirty){let i;for(each_value=ctx[5],i=0;i<each_value.length;i+=1){const child_ctx=get_each_context(ctx,each_value,i);each_blocks[i]?(each_blocks[i].p(child_ctx,dirty),(0,internal.Ui)(each_blocks[i],1)):(each_blocks[i]=create_each_block(child_ctx),each_blocks[i].c(),(0,internal.Ui)(each_blocks[i],1),each_blocks[i].m(div5,null))}for((0,internal.dvw)(),i=each_value.length;i<each_blocks.length;i+=1)out(i);(0,internal.gbL)()}},i(local){if(!current){(0,internal.Ui)(drawableimage.$$.fragment,local);for(let i=0;i<each_value.length;i+=1)(0,internal.Ui)(each_blocks[i]);current=!0}},o(local){(0,internal.etI)(drawableimage.$$.fragment,local),each_blocks=each_blocks.filter(Boolean);for(let i=0;i<each_blocks.length;i+=1)(0,internal.etI)(each_blocks[i]);current=!1},d(detaching){detaching&&(0,internal.ogt)(div6),ctx[16](null),(0,internal.vpE)(drawableimage),(0,internal.RMB)(each_blocks,detaching),mounted=!1,(0,internal.j7q)(dispose)}}}const pageContainer=!0,title=!0,displayContainer=!0,displayItem=!0,imageRow=!0,buttonRow=!0,imageColumn=!0,instructionsColumn=!0,width=300,size=4,distanceLimit=80;function InputLayer_svelte_instance($$self,$$props,$$invalidate){let $outputSize;(0,internal.FIv)($$self,activityStore.tc,($$value=>$$invalidate(3,$outputSize=$$value)));const color=colors.LR;let height;const displayCanvases=Array($outputSize),canvasesSet=Array($outputSize);let drawable,paths=Array($outputSize),drawingEnabled=!0,activeDisplayIndex=0,contourDistance=0,readyToSend=!1;return $$self.$$.update=()=>{10&$$self.$$.dirty&&$$invalidate(2,readyToSend=activeDisplayIndex<0||activeDisplayIndex>=$outputSize),5&$$self.$$.dirty&&$$invalidate(0,drawingEnabled=!readyToSend&&drawingEnabled)},[drawingEnabled,activeDisplayIndex,readyToSend,$outputSize,height,displayCanvases,paths,drawable,contourDistance,color,{red:112,green:112,blue:112},e=>{displayCanvases[activeDisplayIndex].draw(e.detail);const{length}=e.detail;$$invalidate(8,contourDistance+=function getDistance(from,to){return Math.sqrt(Math.pow(from.x-to.x,2)+Math.pow(from.y-to.y,2))}(e.detail[length-1],e.detail[length-2])),$$invalidate(0,drawingEnabled=Math.ceil(contourDistance)<distanceLimit)},()=>{contourDistance>0&&$$invalidate(0,drawingEnabled=!1)},()=>{$$invalidate(6,paths[activeDisplayIndex]=[...drawable.path],paths),$$invalidate(6,paths=[...paths]),canvasesSet[activeDisplayIndex]=!0,drawable.clearPath();$$invalidate(1,activeDisplayIndex=canvasesSet.findIndex((value=>!value))),$$invalidate(8,contourDistance=0),$$invalidate(0,drawingEnabled=!0)},()=>{drawable.clearPath(),displayCanvases[activeDisplayIndex].clear(),$$invalidate(8,contourDistance=0),$$invalidate(0,drawingEnabled=!0)},()=>{},function drawableimage_binding($$value){internal.VnY[$$value?"unshift":"push"]((()=>{drawable=$$value,$$invalidate(7,drawable)}))},function drawableimage_height_binding(value){height=value,$$invalidate(4,height)},function displaycanvas_binding($$value,index){internal.VnY[$$value?"unshift":"push"]((()=>{displayCanvases[index]=$$value,$$invalidate(5,displayCanvases)}))}]}class InputLayer extends internal.f_C{constructor(options){super(),(0,internal.S1n)(this,options,InputLayer_svelte_instance,InputLayer_svelte_create_fragment,internal.N8,{},InputLayer_svelte_add_css)}}const InputLayer_svelte=InputLayer;var svelte=__webpack_require__("./node_modules/svelte/index.mjs");function create_if_block(ctx){let current;const default_slot_template=ctx[5].default,default_slot=(0,internal.nuO)(default_slot_template,ctx,ctx[4],null);return{c(){default_slot&&default_slot.c()},m(target,anchor){default_slot&&default_slot.m(target,anchor),current=!0},p(ctx,dirty){default_slot&&default_slot.p&&(!current||16&dirty)&&(0,internal.kmG)(default_slot,default_slot_template,ctx,ctx[4],current?(0,internal.u2N)(default_slot_template,ctx[4],dirty,null):(0,internal.VOJ)(ctx[4]),null)},i(local){current||((0,internal.Ui)(default_slot,local),current=!0)},o(local){(0,internal.etI)(default_slot,local),current=!1},d(detaching){default_slot&&default_slot.d(detaching)}}}function FunctionRunner_svelte_create_fragment(ctx){let if_block_anchor,current,if_block=ctx[0]&&create_if_block(ctx);return{c(){if_block&&if_block.c(),if_block_anchor=(0,internal.cSb)()},m(target,anchor){if_block&&if_block.m(target,anchor),(0,internal.$Tr)(target,if_block_anchor,anchor),current=!0},p(ctx,[dirty]){ctx[0]?if_block?(if_block.p(ctx,dirty),1&dirty&&(0,internal.Ui)(if_block,1)):(if_block=create_if_block(ctx),if_block.c(),(0,internal.Ui)(if_block,1),if_block.m(if_block_anchor.parentNode,if_block_anchor)):if_block&&((0,internal.dvw)(),(0,internal.etI)(if_block,1,1,(()=>{if_block=null})),(0,internal.gbL)())},i(local){current||((0,internal.Ui)(if_block),current=!0)},o(local){(0,internal.etI)(if_block),current=!1},d(detaching){if_block&&if_block.d(detaching),detaching&&(0,internal.ogt)(if_block_anchor)}}}function FunctionRunner_svelte_instance($$self,$$props,$$invalidate){let{$$slots:slots={},$$scope}=$$props,{mountFn}=$$props,{updateFn}=$$props,{destroyFn}=$$props;const tryRun=fn=>{if(fn)try{fn()}catch(e){alert(e)}};(0,svelte.onMount)((()=>{tryRun(mountFn),$$invalidate(0,mounted=!0)})),(0,svelte.afterUpdate)((()=>tryRun(updateFn))),(0,svelte.onDestroy)((()=>tryRun(destroyFn)));let mounted=!1;return $$self.$$set=$$props=>{"mountFn"in $$props&&$$invalidate(1,mountFn=$$props.mountFn),"updateFn"in $$props&&$$invalidate(2,updateFn=$$props.updateFn),"destroyFn"in $$props&&$$invalidate(3,destroyFn=$$props.destroyFn),"$$scope"in $$props&&$$invalidate(4,$$scope=$$props.$$scope)},[mounted,mountFn,updateFn,destroyFn,$$scope,slots]}class FunctionRunner extends internal.f_C{constructor(options){super(),(0,internal.S1n)(this,options,FunctionRunner_svelte_instance,FunctionRunner_svelte_create_fragment,internal.N8,{mountFn:1,updateFn:2,destroyFn:3})}}const FunctionRunner_svelte=FunctionRunner;function create_default_slot_1(ctx){let inputlayer,current;return inputlayer=new InputLayer_svelte({}),{c(){(0,internal.YCL)(inputlayer.$$.fragment)},m(target,anchor){(0,internal.yef)(inputlayer,target,anchor),current=!0},i(local){current||((0,internal.Ui)(inputlayer.$$.fragment,local),current=!0)},o(local){(0,internal.etI)(inputlayer.$$.fragment,local),current=!1},d(detaching){(0,internal.vpE)(inputlayer,detaching)}}}function create_default_slot(ctx){let functionrunner,current;return functionrunner=new FunctionRunner_svelte({props:{mountFn:function func(){return ctx[0](ctx[1])},$$slots:{default:[create_default_slot_1]},$$scope:{ctx}}}),{c(){(0,internal.YCL)(functionrunner.$$.fragment)},m(target,anchor){(0,internal.yef)(functionrunner,target,anchor),current=!0},p(new_ctx,dirty){ctx=new_ctx;const functionrunner_changes={};4&dirty&&(functionrunner_changes.$$scope={dirty,ctx}),functionrunner.$set(functionrunner_changes)},i(local){current||((0,internal.Ui)(functionrunner.$$.fragment,local),current=!0)},o(local){(0,internal.etI)(functionrunner.$$.fragment,local),current=!1},d(detaching){(0,internal.vpE)(functionrunner,detaching)}}}function InputLayer_stories_svelte_create_fragment(ctx){let meta,t,story,current;return meta=new cjs.Meta({props:{title:"components/activity/layerDisplay/InputLayer",component:InputLayer_svelte,argTypes:{outputSize:{type:"number",control:{type:"range",min:2,max:6,step:1}}}}}),story=new cjs.Story({props:{name:"Default",$$slots:{default:[create_default_slot,({args})=>({1:args}),({args})=>args?2:0]},$$scope:{ctx}}}),{c(){(0,internal.YCL)(meta.$$.fragment),t=(0,internal.DhX)(),(0,internal.YCL)(story.$$.fragment)},m(target,anchor){(0,internal.yef)(meta,target,anchor),(0,internal.$Tr)(target,t,anchor),(0,internal.yef)(story,target,anchor),current=!0},p(ctx,[dirty]){const story_changes={};4&dirty&&(story_changes.$$scope={dirty,ctx}),story.$set(story_changes)},i(local){current||((0,internal.Ui)(meta.$$.fragment,local),(0,internal.Ui)(story.$$.fragment,local),current=!0)},o(local){(0,internal.etI)(meta.$$.fragment,local),(0,internal.etI)(story.$$.fragment,local),current=!1},d(detaching){(0,internal.vpE)(meta,detaching),detaching&&(0,internal.ogt)(t),(0,internal.vpE)(story,detaching)}}}function InputLayer_stories_svelte_instance($$self){return[args=>{activityStore.tc.set(args.outputSize)}]}class InputLayer_stories extends internal.f_C{constructor(options){super(),(0,internal.S1n)(this,options,InputLayer_stories_svelte_instance,InputLayer_stories_svelte_create_fragment,internal.N8,{})}}InputLayer_stories.__docgen={version:3,name:"InputLayer.stories.svelte",data:[],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const{default:parser}=__webpack_require__("./node_modules/@storybook/addon-svelte-csf/dist/cjs/parser/collect-stories.js"),__storiesMetaData=parser(InputLayer_stories,{stories:{Default:{name:"Default",template:!1,source:"<FunctionRunner\n  mountFn={() => {\n    outputSize.set(args.outputSize);\n  }}>\n  <InputLayer />\n</FunctionRunner>",hasArgs:!0}},allocatedIds:["default","Meta","Template","Story","InputLayer","FunctionRunner","outputSize"]}),InputLayer_stories_svelte=__storiesMetaData.meta,Default=__storiesMetaData.stories.Default},"./src/lib/components/activity/layerDisplay/canvases/DrawableImage.svelte":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>DrawableImage_svelte});var internal=__webpack_require__("./node_modules/svelte/internal/index.mjs");function drawable(canvas,params){var init=function init(settings){canvas.width=settings.width,canvas.height=settings.height;var size=settings.size,color=settings.color,context=canvas.getContext("2d");return context.lineCap="round",context.lineWidth=size,context.strokeStyle=color,context},context=init(params),onDraw=params.onDraw,current={x:0,y:0},toPosition=function toPosition(e){var rect=canvas.getBoundingClientRect();return{x:e.clientX-rect.left,y:e.clientY-rect.top}},updatePosition=function updatePosition(e){return current=toPosition(e)};canvas.addEventListener("mousedown",updatePosition),canvas.addEventListener("mouseenter",updatePosition);return canvas.addEventListener("mousemove",(function(e){if(1===e.buttons){var previous=current;(function connect(from,to){context.beginPath(),context.moveTo(from.x,from.y),context.lineTo(to.x,to.y),context.stroke()})(previous,current=toPosition(e)),onDraw({from:previous,to:current})}})),{update:function update(params){context=init(params)},destroy:function destroy(){}}}var displayable=__webpack_require__("./src/lib/components/activity/layerDisplay/canvases/displayable.ts"),colors=__webpack_require__("./src/lib/colors.ts"),svelte=__webpack_require__("./node_modules/svelte/index.mjs");function add_css(target){(0,internal.qOq)(target,"svelte-13inef2",".container.svelte-13inef2{display:grid;grid-template-columns:1;grid-template-rows:1;border:2px solid white}.item.svelte-13inef2{grid-row:1;grid-column:1;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:crosshair}")}function get_each_context(ctx,list,i){const child_ctx=ctx.slice();return child_ctx[18]=list[i],child_ctx}function create_if_block_1(ctx){let each_1_anchor,each_value=ctx[7],each_blocks=[];for(let i=0;i<each_value.length;i+=1)each_blocks[i]=create_each_block(get_each_context(ctx,each_value,i));return{c(){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].c();each_1_anchor=(0,internal.cSb)()},m(target,anchor){for(let i=0;i<each_blocks.length;i+=1)each_blocks[i].m(target,anchor);(0,internal.$Tr)(target,each_1_anchor,anchor)},p(ctx,dirty){if(410&dirty){let i;for(each_value=ctx[7],i=0;i<each_value.length;i+=1){const child_ctx=get_each_context(ctx,each_value,i);each_blocks[i]?each_blocks[i].p(child_ctx,dirty):(each_blocks[i]=create_each_block(child_ctx),each_blocks[i].c(),each_blocks[i].m(each_1_anchor.parentNode,each_1_anchor))}for(;i<each_blocks.length;i+=1)each_blocks[i].d(1);each_blocks.length=each_value.length}},d(detaching){(0,internal.RMB)(each_blocks,detaching),detaching&&(0,internal.ogt)(each_1_anchor)}}}function create_each_block(ctx){let canvas_1,displayable_action,mounted,dispose;return{c(){canvas_1=(0,internal.bGB)("canvas"),(0,internal.Ljt)(canvas_1,"class","svelte-13inef2"),(0,internal.VHj)(canvas_1,"item",item)},m(target,anchor){(0,internal.$Tr)(target,canvas_1,anchor),mounted||(dispose=(0,internal.TVh)(displayable_action=displayable.Z.call(null,canvas_1,{width:ctx[3],height:ctx[1],size:ctx[4],path:ctx[18],color:(0,colors.vq)(ctx[8])})),mounted=!0)},p(new_ctx,dirty){ctx=new_ctx,displayable_action&&(0,internal.sBU)(displayable_action.update)&&410&dirty&&displayable_action.update.call(null,{width:ctx[3],height:ctx[1],size:ctx[4],path:ctx[18],color:(0,colors.vq)(ctx[8])})},d(detaching){detaching&&(0,internal.ogt)(canvas_1),mounted=!1,dispose()}}}function create_else_block(ctx){let canvas_1,displayable_action,mounted,dispose;return{c(){canvas_1=(0,internal.bGB)("canvas"),(0,internal.Ljt)(canvas_1,"class","svelte-13inef2"),(0,internal.VHj)(canvas_1,"item",item)},m(target,anchor){(0,internal.$Tr)(target,canvas_1,anchor),mounted||(dispose=(0,internal.TVh)(displayable_action=displayable.Z.call(null,canvas_1,{width:ctx[3],height:ctx[1],size:ctx[4],path:ctx[0],color:(0,colors.vq)(ctx[2])})),mounted=!0)},p(ctx,dirty){displayable_action&&(0,internal.sBU)(displayable_action.update)&&31&dirty&&displayable_action.update.call(null,{width:ctx[3],height:ctx[1],size:ctx[4],path:ctx[0],color:(0,colors.vq)(ctx[2])})},d(detaching){detaching&&(0,internal.ogt)(canvas_1),mounted=!1,dispose()}}}function create_if_block(ctx){let canvas_1,drawable_action,mounted,dispose;return{c(){canvas_1=(0,internal.bGB)("canvas"),(0,internal.Ljt)(canvas_1,"class","svelte-13inef2"),(0,internal.VHj)(canvas_1,"item",item)},m(target,anchor){(0,internal.$Tr)(target,canvas_1,anchor),ctx[15](canvas_1),mounted||(dispose=[(0,internal.oLt)(canvas_1,"mouseup",ctx[13]),(0,internal.TVh)(drawable_action=drawable.call(null,canvas_1,{width:ctx[3],height:ctx[1],size:ctx[4],color:(0,colors.vq)(ctx[2]),onDraw:ctx[11]}))],mounted=!0)},p(ctx,dirty){drawable_action&&(0,internal.sBU)(drawable_action.update)&&30&dirty&&drawable_action.update.call(null,{width:ctx[3],height:ctx[1],size:ctx[4],color:(0,colors.vq)(ctx[2]),onDraw:ctx[11]})},d(detaching){detaching&&(0,internal.ogt)(canvas_1),ctx[15](null),mounted=!1,(0,internal.j7q)(dispose)}}}function create_fragment(ctx){let div,img,img_src_value,t0,t1,if_block0=ctx[7]&&create_if_block_1(ctx);function select_block_type(ctx,dirty){return ctx[6]?create_if_block:create_else_block}let current_block_type=select_block_type(ctx),if_block1=current_block_type(ctx);return{c(){div=(0,internal.bGB)("div"),img=(0,internal.bGB)("img"),t0=(0,internal.DhX)(),if_block0&&if_block0.c(),t1=(0,internal.DhX)(),if_block1.c(),(0,internal.Jn4)(img.src,img_src_value=ctx[5])||(0,internal.Ljt)(img,"src",img_src_value),(0,internal.czc)(img,"width",ctx[3]+"px"),(0,internal.Ljt)(img,"class","svelte-13inef2"),(0,internal.VHj)(img,"item",item),(0,internal.Ljt)(div,"class","svelte-13inef2"),(0,internal.VHj)(div,"container",container)},m(target,anchor){(0,internal.$Tr)(target,div,anchor),(0,internal.R3I)(div,img),ctx[14](img),(0,internal.R3I)(div,t0),if_block0&&if_block0.m(div,null),(0,internal.R3I)(div,t1),if_block1.m(div,null)},p(ctx,[dirty]){32&dirty&&!(0,internal.Jn4)(img.src,img_src_value=ctx[5])&&(0,internal.Ljt)(img,"src",img_src_value),8&dirty&&(0,internal.czc)(img,"width",ctx[3]+"px"),ctx[7]?if_block0?if_block0.p(ctx,dirty):(if_block0=create_if_block_1(ctx),if_block0.c(),if_block0.m(div,t1)):if_block0&&(if_block0.d(1),if_block0=null),current_block_type===(current_block_type=select_block_type(ctx))&&if_block1?if_block1.p(ctx,dirty):(if_block1.d(1),if_block1=current_block_type(ctx),if_block1&&(if_block1.c(),if_block1.m(div,null)))},i:internal.ZTd,o:internal.ZTd,d(detaching){detaching&&(0,internal.ogt)(div),ctx[14](null),if_block0&&if_block0.d(),if_block1.d()}}}const container=!0,item=!0;function instance($$self,$$props,$$invalidate){const path=[];let{color={red:168,green:222,blue:0}}=$$props,{width=400}=$$props,{size=4}=$$props,{src="./elephant.jpg"}=$$props,{height}=$$props,{enabled=!0}=$$props;let{displayPaths}=$$props,{displayColor={red:0,green:0,blue:0}}=$$props;const dispatcher=(0,svelte.createEventDispatcher)();let image;let canvas,context;return $$self.$$set=$$props=>{"color"in $$props&&$$invalidate(2,color=$$props.color),"width"in $$props&&$$invalidate(3,width=$$props.width),"size"in $$props&&$$invalidate(4,size=$$props.size),"src"in $$props&&$$invalidate(5,src=$$props.src),"height"in $$props&&$$invalidate(1,height=$$props.height),"enabled"in $$props&&$$invalidate(6,enabled=$$props.enabled),"displayPaths"in $$props&&$$invalidate(7,displayPaths=$$props.displayPaths),"displayColor"in $$props&&$$invalidate(8,displayColor=$$props.displayColor)},$$self.$$.update=()=>{520&$$self.$$.dirty&&$$invalidate(1,height=image?image.naturalHeight*width/image.naturalWidth:0),1024&$$self.$$.dirty&&(context=canvas?.getContext("2d"))},[path,height,color,width,size,src,enabled,displayPaths,displayColor,image,canvas,edge=>{if(0==path.length)path.push(edge.from),path.push(edge.to);else{const last=path[path.length-1];last.x===edge.to.x&&last.y===edge.to.y||path.push(edge.to)}dispatcher("pathUpdate",path)},function clearPath(){$$invalidate(0,path.length=0,path),context?.clearRect(0,0,width,height)},function mouseup_handler(event){internal.cKT.call(this,$$self,event)},function img_binding($$value){internal.VnY[$$value?"unshift":"push"]((()=>{image=$$value,$$invalidate(9,image)}))},function canvas_1_binding($$value){internal.VnY[$$value?"unshift":"push"]((()=>{canvas=$$value,$$invalidate(10,canvas)}))}]}class DrawableImage extends internal.f_C{constructor(options){super(),(0,internal.S1n)(this,options,instance,create_fragment,internal.N8,{path:0,color:2,width:3,size:4,src:5,height:1,enabled:6,clearPath:12,displayPaths:7,displayColor:8},add_css)}get path(){return this.$$.ctx[0]}get clearPath(){return this.$$.ctx[12]}}const DrawableImage_svelte=DrawableImage},"./.storybook/preview.js-generated-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:()=>__namedExportsOrder,parameters:()=>parameters});__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/builder-webpack5/node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/lib/colors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{LR:()=>lime,Tm:()=>getColorCssForLayer,vq:()=>rgbToHex});__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js");var _layerToColor,_shared_enums_EParticipantRole__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../shared/enums/EParticipantRole.ts"),lime={red:168,green:222,blue:0},layerToColor=((_layerToColor={})[_shared_enums_EParticipantRole__WEBPACK_IMPORTED_MODULE_3__.Z.InputLayer]={red:248,green:193,blue:97},_layerToColor[_shared_enums_EParticipantRole__WEBPACK_IMPORTED_MODULE_3__.Z.HiddenLayer1]={red:85,green:192,blue:207},_layerToColor[_shared_enums_EParticipantRole__WEBPACK_IMPORTED_MODULE_3__.Z.HiddenLayer2]={red:193,green:83,blue:116},_layerToColor[_shared_enums_EParticipantRole__WEBPACK_IMPORTED_MODULE_3__.Z.OutputLayer]={red:94,green:92,blue:151},_layerToColor[_shared_enums_EParticipantRole__WEBPACK_IMPORTED_MODULE_3__.Z.Facilitator]={red:0,green:0,blue:0},_layerToColor),getColorCssForLayer=function getColorCssForLayer(role,cssTag){var _layerToColor$role2=layerToColor[role],red=_layerToColor$role2.red,green=_layerToColor$role2.green,blue=_layerToColor$role2.blue,alpha=_layerToColor$role2.alpha,css=alpha?"rgba("+red+", "+green+", "+blue+", "+alpha+")":"rgb("+red+", "+green+", "+blue+")";return cssTag?cssTag+": "+css+";":css};function componentToHex(c){var hex=c.toString(16);return 1==hex.length?"0"+hex:hex}function rgbToHex(color){var red=color.red,green=color.green,blue=color.blue;return"#"+componentToHex(red)+componentToHex(green)+componentToHex(blue)}},"./src/lib/components/activity/layerDisplay/canvases/displayable.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>drawable});__webpack_require__("./node_modules/core-js/modules/es.array.fill.js");function drawable(node,params){var canvas=node,context=canvas.getContext("2d"),connect=function connect(from,to){context.beginPath(),context.moveTo(from.x,from.y),context.lineTo(to.x,to.y),context.stroke()};function drawPath(settings){var width=settings.width,height=settings.height,size=settings.size,color=settings.color,path=settings.path,fill=settings.fill;if(canvas.width=width,canvas.height=height,context=canvas.getContext("2d"),fill&&(context.fillStyle=fill,context.fillRect(0,0,width,height)),path){context.lineCap="round",context.lineWidth=size,context.strokeStyle=color;for(var index=0;index<path.length-1;index++)connect(path[index],path[index+1])}}return drawPath(params),{update:function update(newParams){drawPath(newParams)},destroy:function destroy(){}}}},"./src/lib/stores/activityStore.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{tc:()=>outputSize,zQ:()=>nameMap});__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");var svelte_store__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/svelte/store/index.mjs");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}(0,svelte_store__WEBPACK_IMPORTED_MODULE_12__.fZ)(),(0,svelte_store__WEBPACK_IMPORTED_MODULE_12__.fZ)(),(0,svelte_store__WEBPACK_IMPORTED_MODULE_12__.fZ)();var outputSize=(0,svelte_store__WEBPACK_IMPORTED_MODULE_12__.fZ)(),nameMap=((0,svelte_store__WEBPACK_IMPORTED_MODULE_12__.fZ)(),(0,svelte_store__WEBPACK_IMPORTED_MODULE_12__.fZ)(),(0,svelte_store__WEBPACK_IMPORTED_MODULE_12__.fZ)(),(0,svelte_store__WEBPACK_IMPORTED_MODULE_12__.fZ)(),(0,svelte_store__WEBPACK_IMPORTED_MODULE_12__.fZ)(new Map));(0,svelte_store__WEBPACK_IMPORTED_MODULE_12__.fZ)().subscribe((function(state){if(state){var _step,map=(0,svelte_store__WEBPACK_IMPORTED_MODULE_12__.U2)(nameMap),_iterator=_createForOfIteratorHelper(state.values());try{for(_iterator.s();!(_step=_iterator.n()).done;){var _map$set,_ref=_step.value,layer=_ref.layer,indexWithinLayer=_ref.indexWithinLayer,participantName=_ref.participantName;map.has(layer)?map.get(layer)[indexWithinLayer]=participantName:map.set(layer,((_map$set={})[indexWithinLayer]=participantName,_map$set))}}catch(err){_iterator.e(err)}finally{_iterator.f()}nameMap.set(map)}}))},"../shared/enums/EParticipantRole.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var EParticipantRole;__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__}),function(EParticipantRole){EParticipantRole[EParticipantRole.InputLayer=0]="InputLayer",EParticipantRole[EParticipantRole.HiddenLayer1=1]="HiddenLayer1",EParticipantRole[EParticipantRole.HiddenLayer2=2]="HiddenLayer2",EParticipantRole[EParticipantRole.OutputLayer=3]="OutputLayer",EParticipantRole[EParticipantRole.Facilitator=4]="Facilitator"}(EParticipantRole||(EParticipantRole={}));const __WEBPACK_DEFAULT_EXPORT__=EParticipantRole},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx%7Csvelte))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./lib/components/activity/common/stories/NeuralNetwork.stories.svelte":"./src/lib/components/activity/common/stories/NeuralNetwork.stories.svelte","./lib/components/activity/layerDisplay/canvases/stories/DrawableImage.stories.svelte":"./src/lib/components/activity/layerDisplay/canvases/stories/DrawableImage.stories.svelte","./lib/components/activity/layerDisplay/stories/InputLayer.stories.svelte":"./src/lib/components/activity/layerDisplay/stories/InputLayer.stories.svelte"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx%7Csvelte))$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"?4f7e":()=>{},"./generated-stories-entry.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/svelte/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx%7Csvelte))$")],module,!1)},"./storybook-init-framework-entry.js":(__unused_webpack___webpack_module__,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("./node_modules/@storybook/svelte/dist/esm/client/index.js")}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[339],(()=>(__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/svelte/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/svelte/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs"))));__webpack_require__.O()}]);